## packages-ec2
#
# Add some basic packages we are going to need

if [ "${virt}" != 'paravirtual' ]
then
    packages+=('grub-pc')
fi

# Apparently isc-dhcp-client didn't work properly with ec2. It is
# unclear if this is still the case. For now, we use dhcpcd instead.
packages+=('dhcpcd5')

# We use dhcpcd instead
exclude_packages+=('isc-dhcp-client')
exclude_packages+=('isc-dhcp-common')

# jq is used for parsing JSON output of the various aws commands.
host_packages+=('awscli')
host_packages+=('jq')

if [ "${volume_type}" = 'instance' ]
then
    # Used when creating a sparse image file.
    host_packages+=('pv')
fi

# From Wheezy onwards, there are no longer any special Xen-specific
# kernels.
if [ ${arch} = 'amd64' ]
then
    packages+=('linux-image-amd64')
elif [ ${arch} = 'i386' ]
then
    packages+=('linux-image-686')
fi
